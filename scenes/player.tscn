[gd_scene load_steps=47 format=3 uid="uid://dr5g1ggev5v5o"]

[ext_resource type="Script" path="res://scripts/player/player_input.gd" id="1_5hib8"]
[ext_resource type="Script" path="res://scripts/player/player.gd" id="1_cse06"]
[ext_resource type="Script" path="res://scripts/player/player_movement.gd" id="3_kqi1q"]
[ext_resource type="Script" path="res://scripts/player/player_animation.gd" id="4_kcfpf"]
[ext_resource type="Texture2D" uid="uid://dvq31c0412vvm" path="res://sprites/player/idle/down/player_idle_down1.png" id="5_av6ti"]
[ext_resource type="Script" path="res://scripts/player/player_attack.gd" id="5_kjhrr"]
[ext_resource type="Texture2D" uid="uid://c4xv31iqikonu" path="res://player_lamp_light.png" id="6_4hfuy"]
[ext_resource type="Texture2D" uid="uid://ch6uvwp46qrqr" path="res://sprites/player/idle/down/player_idle_down2.png" id="6_p2t1l"]
[ext_resource type="Texture2D" uid="uid://xh7j5800dsn5" path="res://sprites/player/idle/down/player_idle_down3.png" id="7_g6ybp"]
[ext_resource type="Texture2D" uid="uid://byenp4ykjbw0v" path="res://sprites/player/idle/down/player_idle_down4.png" id="8_gbfhm"]
[ext_resource type="Texture2D" uid="uid://b22db26amtqs6" path="res://sprites/player/idle/down/player_idle_down5.png" id="9_55kpg"]
[ext_resource type="Texture2D" uid="uid://kt56n6siyu2b" path="res://sprites/player/idle/down/player_idle_down6.png" id="10_it553"]
[ext_resource type="Texture2D" uid="uid://cbjrfl4648ne6" path="res://sprites/player/idle/down/player_idle_down7.png" id="11_63vg4"]
[ext_resource type="Texture2D" uid="uid://d4e2g6rld1t4k" path="res://sprites/player/idle/down/player_idle_down8.png" id="12_11wi2"]
[ext_resource type="Texture2D" uid="uid://ch7dqolt3c4vm" path="res://sprites/player/idle/up/player_idle_top1.png" id="13_atnw8"]
[ext_resource type="Script" path="res://scripts/tasks/task_controller.gd" id="14_3anlh"]
[ext_resource type="Texture2D" uid="uid://b7b8eguexfih7" path="res://sprites/player/idle/up/player_idle_top2.png" id="14_52aqj"]
[ext_resource type="Texture2D" uid="uid://drou8cjyee5fw" path="res://sprites/player/idle/up/player_idle_top3.png" id="15_771vn"]
[ext_resource type="Texture2D" uid="uid://dfqgjmd8rphqq" path="res://sprites/player/idle/up/player_idle_top4.png" id="16_mv2kb"]
[ext_resource type="Texture2D" uid="uid://difsnakfhuoxu" path="res://sprites/player/idle/up/player_idle_top5.png" id="17_fqkwo"]
[ext_resource type="Texture2D" uid="uid://dac6s1attx0eb" path="res://sprites/player/idle/up/player_idle_top6.png" id="18_geh6c"]
[ext_resource type="Texture2D" uid="uid://cx7nultnkgwfw" path="res://sprites/player/idle/up/player_idle_top7.png" id="19_i28d5"]
[ext_resource type="Texture2D" uid="uid://k7845aledgcj" path="res://sprites/player/idle/up/player_idle_top8.png" id="20_3tjtc"]
[ext_resource type="Texture2D" uid="uid://dteyocd60m1sv" path="res://sprites/player/walk/player_bok.png" id="21_5iqfe"]
[ext_resource type="Texture2D" uid="uid://bmasv06q4b457" path="res://sprites/player/walk/down/player_walk_down1.png" id="22_n1m4i"]
[ext_resource type="Texture2D" uid="uid://c5sm6ubjkhkmy" path="res://sprites/player/walk/down/player_walk_down2.png" id="23_o75gm"]
[ext_resource type="Texture2D" uid="uid://dymq7igbk41au" path="res://sprites/player/walk/down/player_walk_down3.png" id="24_aartg"]
[ext_resource type="Texture2D" uid="uid://bgsv3otxso0pa" path="res://sprites/player/walk/down/player_walk_down4.png" id="25_djf75"]
[ext_resource type="Texture2D" uid="uid://b0twafv2v8a4r" path="res://sprites/player/walk/down/player_walk_down5.png" id="26_k7she"]
[ext_resource type="Texture2D" uid="uid://c8ncwrkojli37" path="res://sprites/player/walk/down/player_walk_down6.png" id="27_meao0"]
[ext_resource type="Texture2D" uid="uid://c7ua3dl0c8kfk" path="res://sprites/player/walk/down/player_walk_down7.png" id="28_dbspt"]
[ext_resource type="Texture2D" uid="uid://cpkm8jhuws7pl" path="res://sprites/player/walk/down/player_walk_down8.png" id="29_akqf6"]
[ext_resource type="Texture2D" uid="uid://dewj0my3xf603" path="res://sprites/player/walk/down/player_walk_down9.png" id="30_8cog6"]
[ext_resource type="Texture2D" uid="uid://bnfns4vvucmyg" path="res://sprites/player/walk/down/player_walk_down10.png" id="31_1yfdj"]
[ext_resource type="Texture2D" uid="uid://go5nonby1bh8" path="res://sprites/player/walk/down/player_walk_down11.png" id="32_wjc5v"]
[ext_resource type="Texture2D" uid="uid://di0upvaxeuabx" path="res://sprites/player/walk/down/player_walk_down12.png" id="33_a2vqm"]
[ext_resource type="PackedScene" uid="uid://cxmierhbc10s5" path="res://scenes/spawner.tscn" id="37_o81mw"]
[ext_resource type="PackedScene" uid="uid://enxedkrpkosl" path="res://scenes/spider.tscn" id="38_04e5i"]
[ext_resource type="Script" path="res://scripts/player/player_sound.gd" id="39_bfjfa"]
[ext_resource type="AudioStream" uid="uid://c6hnhn15dsl4b" path="res://audio/sounds/steps_outside.wav" id="40_76cvl"]
[ext_resource type="AudioStream" uid="uid://cthhjihcgtnax" path="res://audio/sounds/ambients/rain.mp3" id="41_t86nb"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_2pcap"]
load_path = "res://.godot/imported/player_bok.png-56c2b26f55a79a79ac51cd8e24856467.ctex"

[sub_resource type="SpriteFrames" id="SpriteFrames_h17ug"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_av6ti")
}, {
"duration": 1.0,
"texture": ExtResource("6_p2t1l")
}, {
"duration": 1.0,
"texture": ExtResource("7_g6ybp")
}, {
"duration": 1.0,
"texture": ExtResource("8_gbfhm")
}, {
"duration": 1.0,
"texture": ExtResource("9_55kpg")
}, {
"duration": 1.0,
"texture": ExtResource("10_it553")
}, {
"duration": 1.0,
"texture": ExtResource("11_63vg4")
}, {
"duration": 1.0,
"texture": ExtResource("12_11wi2")
}],
"loop": true,
"name": &"idle_down",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_2pcap")
}],
"loop": true,
"name": &"idle_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_atnw8")
}, {
"duration": 1.0,
"texture": ExtResource("14_52aqj")
}, {
"duration": 1.0,
"texture": ExtResource("15_771vn")
}, {
"duration": 1.0,
"texture": ExtResource("16_mv2kb")
}, {
"duration": 1.0,
"texture": ExtResource("17_fqkwo")
}, {
"duration": 1.0,
"texture": ExtResource("18_geh6c")
}, {
"duration": 1.0,
"texture": ExtResource("19_i28d5")
}, {
"duration": 1.0,
"texture": ExtResource("20_3tjtc")
}],
"loop": true,
"name": &"idle_up",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("22_n1m4i")
}, {
"duration": 1.0,
"texture": ExtResource("23_o75gm")
}, {
"duration": 1.0,
"texture": ExtResource("24_aartg")
}, {
"duration": 1.0,
"texture": ExtResource("25_djf75")
}, {
"duration": 1.0,
"texture": ExtResource("26_k7she")
}, {
"duration": 1.0,
"texture": ExtResource("27_meao0")
}, {
"duration": 1.0,
"texture": ExtResource("28_dbspt")
}, {
"duration": 1.0,
"texture": ExtResource("29_akqf6")
}, {
"duration": 1.0,
"texture": ExtResource("30_8cog6")
}, {
"duration": 1.0,
"texture": ExtResource("31_1yfdj")
}, {
"duration": 1.0,
"texture": ExtResource("32_wjc5v")
}, {
"duration": 1.0,
"texture": ExtResource("33_a2vqm")
}],
"loop": true,
"name": &"walk_down",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("21_5iqfe")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_atnw8")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_2jkqd"]
radius = 17.5411
height = 110.219

[sub_resource type="CircleShape2D" id="CircleShape2D_rw34q"]
radius = 122.037

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_vra8h"]
light_mode = 1

[node name="Player" type="Node2D" node_paths=PackedStringArray("player_input", "player_movement", "player_sound")]
script = ExtResource("1_cse06")
player_input = NodePath("PlayerInput")
player_movement = NodePath("PlayerMovement")
player_sound = NodePath("PlayerSound")

[node name="PlayerInput" type="Node" parent="."]
script = ExtResource("1_5hib8")

[node name="PlayerAttack" type="Node" parent="."]
script = ExtResource("5_kjhrr")

[node name="PlayerAttackTimer" type="Timer" parent="."]
wait_time = 0.5

[node name="PlayerAnimation" type="Node" parent="." node_paths=PackedStringArray("player_input")]
script = ExtResource("4_kcfpf")
player_input = NodePath("../PlayerInput")

[node name="PlayerMovement" type="CharacterBody2D" parent="."]
rotation = 0.00393331
scale = Vector2(0.399059, 0.399059)
script = ExtResource("3_kqi1q")
speed = 100
acceleration = 30

[node name="PlayerSprite" type="AnimatedSprite2D" parent="PlayerMovement"]
scale = Vector2(2.60542, 2.60542)
sprite_frames = SubResource("SpriteFrames_h17ug")
animation = &"walk_right"
autoplay = "idle_down"
frame_progress = 0.326471

[node name="PlayerCollisionShape" type="CollisionShape2D" parent="PlayerMovement"]
shape = SubResource("CapsuleShape2D_2jkqd")

[node name="PlayerAttackArea" type="Area2D" parent="PlayerMovement"]

[node name="PlayerAttackAreaCollisionShape" type="CollisionShape2D" parent="PlayerMovement/PlayerAttackArea"]
shape = SubResource("CircleShape2D_rw34q")
disabled = true
debug_color = Color(0.106125, 0.647982, 3.85046e-07, 0.42)

[node name="PlayerCamera" type="Camera2D" parent="PlayerMovement"]
rotation = -0.00393331
zoom = Vector2(2.5, 2.5)
limit_smoothed = true
position_smoothing_speed = 2.0

[node name="PlayerLampPointLight" type="PointLight2D" parent="PlayerMovement"]
position = Vector2(-1.90735e-06, 0)
rotation = -0.00393331
scale = Vector2(1.9692, 1.9692)
color = Color(1, 0.627451, 0.333333, 0.611765)
energy = 3.0
shadow_enabled = true
shadow_filter = 1
shadow_filter_smooth = 1.0
texture = ExtResource("6_4hfuy")
texture_scale = 4.0

[node name="PlayerUI" type="Control" parent="PlayerMovement" node_paths=PackedStringArray("task_text_label")]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("14_3anlh")
task_text_label = NodePath("TasksLabel")
tasks_file = "res://storage/tasks/test_tasks.json"

[node name="TasksLabel" type="Label" parent="PlayerMovement/PlayerUI"]
material = SubResource("CanvasItemMaterial_vra8h")
layout_mode = 0
offset_left = -609.0
offset_top = -454.0
offset_right = -42.0
offset_bottom = -217.0

[node name="SpidersSpawner" parent="PlayerMovement" node_paths=PackedStringArray("spawning_points") instance=ExtResource("37_o81mw")]
enemy = ExtResource("38_04e5i")
spawning_points = [NodePath("SpawningPoint1"), NodePath("SpawningPoint2"), NodePath("SpawningPoint3"), NodePath("SpawningPoint4")]
spawning_time = 60

[node name="SpawningPoint1" type="Node2D" parent="PlayerMovement/SpidersSpawner"]
position = Vector2(-922.162, 3.62717)

[node name="SpawningPoint2" type="Node2D" parent="PlayerMovement/SpidersSpawner"]
position = Vector2(-2.6021, -661.551)

[node name="SpawningPoint3" type="Node2D" parent="PlayerMovement/SpidersSpawner"]
position = Vector2(882.058, -5.97534)

[node name="SpawningPoint4" type="Node2D" parent="PlayerMovement/SpidersSpawner"]
position = Vector2(2.68095, 681.598)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]

[node name="PlayerSound" type="Node" parent="." node_paths=PackedStringArray("steps_player")]
script = ExtResource("39_bfjfa")
steps_player = NodePath("StepsPlayer")

[node name="StepsPlayer" type="AudioStreamPlayer2D" parent="PlayerSound"]
stream = ExtResource("40_76cvl")

[node name="RainPlayer" type="AudioStreamPlayer2D" parent="PlayerSound"]
stream = ExtResource("41_t86nb")
volume_db = 10.847
autoplay = true

[connection signal="timeout" from="PlayerAttackTimer" to="PlayerInput" method="_on_player_attack_timer_timeout"]
[connection signal="body_entered" from="PlayerMovement/PlayerAttackArea" to="PlayerAttack" method="_on_player_attack_area_body_entered"]
